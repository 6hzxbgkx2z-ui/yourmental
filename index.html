<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>æ„Ÿæƒ…ãƒ­ã‚°-Your Mental</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 480px;
      margin: 0 auto;
      padding: 20px;
      background: #fafafa;
    }
    h1 {
      font-size: 22px;
      margin-bottom: 16px;
    }
    .card {
      background: #fff;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      margin-bottom: 16px;
    }
    label {
      display: block;
      margin-top: 12px;
      font-size: 14px;
    }
    select, input[type="range"], textarea, button {
      width: 100%;
      margin-top: 6px;
    }
    textarea {
      resize: none;
      height: 60px;
    }
    button {
      margin-top: 16px;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #111;
      color: #fff;
      font-size: 16px;
    }
    .log {
      font-size: 14px;
      border-bottom: 1px solid #eee;
      padding: 8px 0;
    }
    .emotion {
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>ä»Šæ—¥ã®æ„Ÿæƒ…ãƒ­ã‚°</h1>

  <div class="card">
    <label>
      æ„Ÿæƒ…
      <select id="emotion">
        <option value="å®‰å¿ƒ">ğŸ˜Œ å®‰å¿ƒ</option>
        <option value="æ€’ã‚Š">ğŸ˜  æ€’ã‚Š</option>
        <option value="æ‚²ã—ã¿">ğŸ˜¢ æ‚²ã—ã¿</option>
        <option value="ä¸å®‰">ğŸ˜¨ ä¸å®‰</option>
        <option value="å–œã³">ğŸ˜„ å–œã³</option>
      </select>
    </label>

    <label>
      å¼·åº¦ï¼ˆ1ã€œ5ï¼‰
      <input type="range" id="intensity" min="1" max="5" value="3" />
    </label>

    <label>
      ã²ã¨ã“ã¨ï¼ˆä»»æ„ï¼‰
      <textarea id="note" placeholder="ä½•ãŒã‚ã£ãŸï¼Ÿï¼ˆ20æ–‡å­—ãã‚‰ã„ï¼‰"></textarea>
    </label>

    <button onclick="saveLog()">è¨˜éŒ²ã™ã‚‹</button>
  </div>

  <div class="card">
    <h2 style="font-size:16px;">å±¥æ­´</h2>
    <div id="logs"></div>
  </div>

<script>
  const STORAGE_KEY = "emotion_logs";

  function getLogs() {
    return JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
  }

  function saveLogs(logs) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
  }

  function saveLog() {
    const emotion = document.getElementById("emotion").value;
    const intensity = document.getElementById("intensity").value;
    const note = document.getElementById("note").value;

    const log = {
      date: new Date().toLocaleDateString(),
      emotion,
      intensity,
      note
    };

    const logs = getLogs();
    logs.unshift(log);
    saveLogs(logs);

    document.getElementById("note").value = "";
    renderLogs();
  }

  function renderLogs() {
    const logs = getLogs();
    const container = document.getElementById("logs");
    container.innerHTML = "";

    logs.slice(0, 7).forEach(log => {
      const div = document.createElement("div");
      div.className = "log";
      div.innerHTML = `
        <div>${log.date}</div>
        <div class="emotion">${log.emotion}ï¼ˆå¼·åº¦ ${log.intensity}ï¼‰</div>
        <div>${log.note || ""}</div>
      `;
      container.appendChild(div);
    });
  }

  renderLogs();
</script>

</body>
</html>
